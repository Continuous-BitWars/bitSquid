<div class="container" *ngIf="games.length > 0; else noData">
  <h2 class="title">Leagues</h2>
  <ul class="league-list">
    <li class="league-item" *ngFor="let league of games">
      <div class="league-header">
        <h3>{{ league.name }}</h3>
        <p>Status: {{ league.status }}</p>
        <p>Parallel Games: {{ league.parallel_games }}</p>
        <p>Total Games: {{ league.game_count }}</p>
        <p>Default Time Between Ticks: {{ league.default_time_between_ticks }} seconds</p>
      </div>
      
      <div class="section-toggle">
        <p class="toggle-title" (click)="toggleSection(league, 'players')">
          {{ isSectionExpanded(league, 'players') ? 'Hide Players' : 'Show Players' }}
        </p>
        <div *ngIf="isSectionExpanded(league, 'players')" class="section-content">
          <ul>
            <li *ngFor="let player of league.players">
              <p>{{ player.name }} - Color: <span [style.color]="player.color">{{ player.color }}</span></p>
            </li>
          </ul>
        </div>

        <p class="toggle-title" (click)="toggleSection(league, 'maps')">
          {{ isSectionExpanded(league, 'maps') ? 'Hide Maps' : 'Show Maps' }}
        </p>
        <div *ngIf="isSectionExpanded(league, 'maps')" class="section-content">
          <ul>
            <li *ngFor="let map of league.maps">
              <p>{{ map.name }} - Max Players: {{ map.max_player_count }}</p>
            </li>
          </ul>
        </div>
      </div>
    </li>
  </ul>
</div>

<ng-template #noData>
  <p>No leagues available.</p>
</ng-template>
